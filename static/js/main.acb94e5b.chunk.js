(window.webpackJsonpatlasbus=window.webpackJsonpatlasbus||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(28),m=a.n(o),c=(a(68),a(69),a(10)),s=a(11),i=a(13),A=a(12),l=a(14),u=(a(43),a(24)),p=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"submit_part",className:"form-group"},n.a.createElement("button",{type:"submit",disabled:this.props.isSubmitting,className:this.props.errors.passportNumber||this.props.errors.email?"btn btn-danger":"btn btn-primary"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),this.props.isSubmitting&&n.a.createElement("img",{alt:"loading",src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}))}}]),t}(n.a.Component),h=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"form-group"},n.a.createElement("h7",null,n.a.createElement("label",{htmlFor:this.props.form_name},this.props.form_cyrName)),n.a.createElement(u.b,{className:"form-control "+(this.props.form_errors&&this.props.form_touched?" is-invalid":""),form_type:this.props.text,name:this.props.form_name}),n.a.createElement(u.a,{name:this.props.form_name,component:"div",className:"invalid-feedback"}))}}]),t}(n.a.Component),d={PASSP_RU:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424",PASSP_BY:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0411",CERT_OB_RU:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 \u0420\u0424",CERT_OB_BY:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 \u0420\u0411"};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var a in e)t.push(e[a]);return t}var b=["\u041c","\u0416"],E=["\u0410","\u0411","\u0412"];var y=a(31),_=a.n(y),N=a(62);Object(y.registerLocale)("ru",N.a);var g=function(e){var t=e.name,a=e.value,r=e.onChange;return n.a.createElement(_.a,{locale:"ru",className:"form-control",dateFormat:"MM.dd.yyyy",dropdownMode:"select",showMonthDropdown:!0,showYearDropdown:!0,selected:a&&new Date(a)||null,onChange:function(e){r(t,e)}})},C=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"form-group"},n.a.createElement("h6",null,n.a.createElement("label",{htmlFor:this.props.name},this.props.form_cyrName)),n.a.createElement(g,{name:this.props.form_name,value:this.props.value,onChange:this.props.onChange}))}}]),t}(n.a.Component),v=(a(120),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"form-group"},n.a.createElement("h6",null,n.a.createElement("label",{htmlFor:this.props.form_name},this.props.form_cyrName)),n.a.createElement("select",{name:this.props.form_name,onChange:this.props.onChange,touched:this.props.touched,className:"form-control"},this.props.items.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))))}}]),t}(n.a.Component)),w=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"main_form_content"},n.a.createElement(u.d,{initialValues:{name:"",surname:"",patronymic:"",email:"",docNumber:"",phoneNumber:"",docType:d.PASSP_RU,birthDate:"",sex:b[0],section:E[0]},validate:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};if(e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email"):t.email="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",e.name?/^[A-Z\u0430-\u044f\u0410-\u042f\u0401\u0451]{2,}$/i.test(e.name)||(t.name="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u0438\u043c\u044f"):t.name="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",e.surname?/^[A-Z\u0430-\u044f\u0410-\u042f\u0401\u0451]{2,}$/i.test(e.surname)||(t.surname="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0444\u0430\u043c\u0438\u043b\u0438\u044f"):t.surname="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",e.patronymic?/^[A-Z\u0430-\u044f\u0410-\u042f\u0401\u0451]{2,}$/i.test(e.patronymic)||(t.patronymic="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"):t.patronymic="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",t.phoneNumber&&!/^\+?(\d{1,3})?[- .]?\(?(?:\d{2,3})\)?[- .]?\d\d\d[- .]?\d\d[- .]?\d\d$/.test(e.phoneNumber)&&(t.phoneNumber="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.docNumber)switch(e.docType){case d.PASSP_RU:/^[A-Z0-9\u0410-\u042f]{2,}?[ ]?[A-Z0-9\u0410-\u042f]{2,}?[ ]?[A-Z0-9\u0410-\u042f]{6,}$/i.test(e.docNumber)||(t.docNumber="\u0428\u0430\u0431\u043b\u043e\u043d 12 34 567890");break;case d.PASSP_BY:/^[A-Z\u0410-\u042f]{2,}?[0-9]{7,}$/i.test(e.docNumber)||(t.docNumber="\u0428\u0430\u0431\u043b\u043e\u043d \u0410\u04111234567");break;case d.CERT_OB_RU:/^[A-Z\u0410-\u042f]{1,}?[-]?[A-Z\u0410-\u042f]{2,}?[\u2116]?[0-9]{6,}$/i.test(e.docNumber)||(t.docNumber="\u0428\u0430\u0431\u043b\u043e\u043d I-HA\u2116123456");break;case d.CERT_OB_BY:/^[A-Z\u0410-\u042f]{1,}?[-]?[A-Z\u0410-\u042f]{2,}?[\u2116]?[0-9]{7,}$/i.test(e.docNumber)||(t.docNumber="\u0428\u0430\u0431\u043b\u043e\u043d \u0420-\u0420\u0414\u21161234567")}return t}(e)},onSubmit:function(e,t){var a=t.setStatus,r=t.setSubmitting;a();var n={method:"POST",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({name:e.name,surname:e.surname,patronymic:e.patronymic,email:e.email,docNumber:e.docNumber,phoneNumber:e.phoneNumber,sex:e.sex,birthDate:e.birthDate,docType:e.docType,section:e.section})};fetch("http://94.140.216.17:8889/php/atlasBusInsert.php",n).then((function(e){r(!1),e.json().then((function(e){a(e)}))}),(function(e){r(!1),a(e)}))}},(function(e){var t=e.values,a=e.status,r=e.touched,o=e.handleChange,m=e.errors,c=e.isSubmitting,s=e.setFieldValue;return n.a.createElement(u.c,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h4",null,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u0432\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435")),n.a.createElement(h,{form_name:"surname",form_cyrName:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",form_type:"text",form_errors:m.surname,form_touched:r.surname}),n.a.createElement(h,{form_name:"name",form_cyrName:"\u0418\u043c\u044f",form_type:"text",form_errors:m.name,form_touched:r.name}),n.a.createElement(h,{form_name:"patronymic",form_cyrName:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",form_type:"text",form_errors:m.patronymic,form_touched:r.patronymic}),n.a.createElement(h,{form_name:"email",form_cyrName:"email",form_type:"email",form_errors:m.email,form_touched:r.email}),n.a.createElement(h,{form_name:"docNumber",form_cyrName:"\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430",form_type:"text",form_errors:m.docNumber,form_touched:r.docNumber}),n.a.createElement(h,{form_name:"phoneNumber",form_cyrName:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",form_type:"text",form_errors:m.phoneNumber,form_touched:r.phoneNumber}),n.a.createElement(v,{form_name:"sex",form_cyrName:"\u041f\u043e\u043b",onChange:o,value:t.sex,touched:r.sex,items:b}),n.a.createElement(C,{form_name:"birthDate",form_cyrName:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",onChange:s,value:t.birthDate}),n.a.createElement(v,{form_name:"docType",form_cyrName:"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",onChange:o,touched:r.docType,items:f(d)}),n.a.createElement(v,{form_name:"section",form_cyrName:"\u0420\u0430\u0437\u0434\u0435\u043b",onChange:o,touched:r.section,items:E}),n.a.createElement(p,{disabled:c,errors:m}),a&&a.Status&&"NG"===a.Status&&n.a.createElement("div",{className:"alert alert-danger"},a.Message),a&&a.Status&&"OK"===a.Status&&n.a.createElement("div",{className:"alert alert-success"},n.a.createElement("a",{href:a.Link,class:"alert-link"},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c")))})))}}]),t}(n.a.Component);var O=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{id:"bodyAtlas",className:"BodyAtlasBus"},n.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},43:function(e,t,a){},63:function(e,t,a){e.exports=a(121)},68:function(e,t,a){},69:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.acb94e5b.chunk.js.map